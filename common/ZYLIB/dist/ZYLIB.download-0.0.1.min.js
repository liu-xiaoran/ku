/*! 2017-11-23 10:58:26 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ZYLIB=t():e.ZYLIB=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e)}return i(e,null,[{key:"getCookie",value:function(e){var t=new RegExp("(^|;)[ ]*"+e+"=([^;]*)"),n=t.exec(document.cookie);return n?decodeURIComponent(n[2]):null}},{key:"setCookie",value:function(e,t,n,o,i,r){var a=void 0;n&&(a=new Date,a.setTime(a.getTime()+n)),document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+a.toGMTString():"")+";path="+(o||"/")+(i?";domain="+i:"")+(r?";secure":"")}}]),e}();t.default=r},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){o(this,e);var n=t.match(/(\w+):\/\/([^:\/\?]*):?(\d*)([^\?]*)\??([^#$]*)#?([^#]*)/)||[];this.scheme=n[1]||"",this.protocol=n[1]||"",this.domain=n[2]||"",this.host=n[2]||"",this.port=n[3]||"",this.path=n[4]||"",this.queryString=n[5]||"",this.search=n[5]||"",this.hash=n[6]||""}return i(e,[{key:"getParams",value:function(){var e=this.queryString.split("&"),t={};return e.forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t}},{key:"getParam",value:function(e){return this.getParams()[e]}}]),e}();t.default=r},,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ZYModal=t.ZYDownload=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(9),s=o(u),c=n(8),l=o(c),d=n(0),f=o(d),h=n(1),p=o(h),v=new p.default(document.location.href),k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=r({downloadBtn:document.getElementById("ZYDownload"),tips:"http://106.14.236.8/h5/libs/imgs/download.png",wake:-1},t),this.bindEvent(),this.modal=new s.default({tips:this.options.tips}),this.iosLink=this.options.iosLink||v.getParam("iosLink")||f.default.getCookie("iosLink")||"https://itunes.apple.com/app/id1203692435",this.apkLink=this.options.apkLink||v.getParam("apkLink")||f.default.getCookie("apkLink")||"/app/"+this.toApkLink()+".apk",this.init()}return a(e,[{key:"init",value:function(){var e=this;this.options.wake<0&&this.options.auto&&(l.default.isIos()?setTimeout(function(){e.onDownload()},1e3):this.onDownload())}},{key:"bindEvent",value:function(){var e=this;this.addEvent(this.options.downloadBtn,l.default.isIos()||l.default.isAndroid()?"touchend":"click",function(){return e.options.wake>=0?e.onWake():e.onDownload()})}},{key:"onDownload",value:function(){l.default.isWeixin()?this.modal.show():l.default.isIos()?location.href=this.iosLink:location.href="http://download.zhangyuelicai.com"+this.apkLink}},{key:"onWake",value:function(){try{l.default.isIos9()?window.location.href="/h5/dl/?iosLink="+this.iosLink+"&apkLink="+this.apkLink:l.default.isWeixin()?window.location.href=this.options.wake>0?"http://a.app.qq.com/o/simple.jsp?pkgname=com.wanse.zhangyueapp":"/h5/dl/?iosLink="+this.iosLink+"&apkLink="+this.apkLink:l.default.isIos()||l.default.isAndroid()?window.location.href="zylcapp://com.wanse.zhangyueapp":window.location.href="/"}catch(e){this.onDownload()}}},{key:"toApkLink",value:function(){var e=this.options.contractId||v.getParam("contractId")||f.default.getCookie("contractId")||"999920171021200000",t=e.substr(0,12);return"116420170606"==t||"116520170606"==t||"116620170606"==t?"116420170606400061":e.substr(0,12)+"4"+e.substring(13)}},{key:"addEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}]),e}();t.ZYDownload=k,t.ZYModal=s.default},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=window.navigator.userAgent,a=function(){function e(){o(this,e)}return i(e,[{key:"isIos",value:function(){return!!r.match(/iPhone|iPad|iPod/)}},{key:"isIos9",value:function(){var e=/iPhone\s?OS\s?(\d+)_(\d*)/,t=r.match(e);return(t?new Number(t[1]+"."+t[2]):0)>=9}},{key:"isAndroid",value:function(){return!!r.match(/Android/)}},{key:"isWeixin",value:function(){return r.match(/[Mm]icro[Mm]essenger/)}}]),e}();t.default=new a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=i({},n);var r="\n      box-sizing: border-box;\n      text-align: center;\n      z-index: 99999;\n      word-break: break-word;\n      position: fixed;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height:100%;\n      opacity: 0;\n      transition: all .5s;\n      display: none;\n      background-image:url("+this.options.tips+");\n      background-color: rgba(0, 0, 0, 0.7);\n      background-size:100%;\n      background-repeat:no-repeat;\n    ";this.show=function(){t.holder=document.createElement("div"),t.holder.style.cssText=r,document.body.appendChild(t.holder),t.holder.style.display="block",setTimeout(function(){t.holder.style.opacity="1",t.init()},10)},this.hide=function(){t.holder.style.opacity=0,setTimeout(function(){t.holder.remove()},400)}}return r(e,[{key:"ua",value:function(){var e=navigator.userAgent.toLowerCase();return{ios:/iphone/.test(e)||/ipad/.test(e),android:/android/.test(e),winphone:/windows phone/.test(e),weixin:/micromessenger/.test(e),qqnews:/qqnews/.test(e),mqqbrowser:/mqqbrowser/.test(e),qq:/\sqq/.test(e),mobile:/iphone/.test(e)||/ipad/.test(e)||/android/.test(e)}}},{key:"init",value:function(){var e=this;this.addEvent(this.holder,this.ua().mobile?"touchend":"click",function(){return e.hide()})}},{key:"addEvent",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}]),e}();t.default=a}])});