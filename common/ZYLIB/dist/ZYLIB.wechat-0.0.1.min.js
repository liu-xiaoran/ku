/*! 2017-11-23 10:58:26 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ZYLIB=t():e.ZYLIB=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}({16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);t.ZYWechat=i},3:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(6),r=function(e,t){for(var n in t)e[n]=t[n];return e},o=function(e){this.config=i({apiURL:"/actives1/public/jsapiTicket",wxURL:"https://res.wx.qq.com/open/js/jweixin-1.2.0.js",url:encodeURIComponent(location.href.split("#")[0]),debug:!1,type:"post",jsonp:!1},e),this.config.data=i({link:location.href,title:"",desc:"",imgUrl:"https://www.zhangyuelicai.com/h5/share/shareicon.png",success:null,cancel:null},e.data),this.config.timelineData=i({link:location.href,title:"",imgUrl:"https://www.zhangyuelicai.com/h5/share/shareicon.png",success:null,cancel:null},e.timelineData),this.init()},s=o.prototype;s.init=function(){var e=this.config;this.timelineData=r({},e.data),this.appMessageData=r({},e.data),e.timelineData?r(this.timelineData,e.timelineData):this.timelineData.title=e.data.desc;var t=this;a.loadScript({url:e.wxURL,success:function(){t.initShare()}})},s.initShare=function(){var e=this.config,t=this;a.ajax({url:e.apiURL,type:e.type,data:{url:e.url},jsonp:e.jsonp,success:function(e){t.initData(e)}})},s.initData=function(e){var t=this.config,n=this;wx&&(wx.config({debug:t.debug,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.onMenuShareTimeline(n.timelineData),wx.onMenuShareAppMessage(n.appMessageData)}))},s.shareToTimeline=function(e){var t=r(this.timelineData,e);wx.onMenuShareTimeline(t)},s.shareToFriend=function(e){var t=r(this.appMessageData,e);wx.onMenuShareAppMessage(t)},e.exports=o},6:function(e,t,n){"use strict";var i=function(e,t){for(var n in t)e[n]=t[n];return e},a=function(e){if(e.jsonp){var t=+new Date,n="Xing"+t;e.data.callback=n,e.removeOnLoad=!0,e.trigger=!1,window[n]=function(t){e.success&&e.success(t),window[n]=null},o(e)}else r(e)},r=function(e){var t=new XMLHttpRequest;t.onload=function(){if(200===this.status){var t=JSON.parse(this.response);e.success&&e.success(t)}},t.onerror=function(){e.error&&e.error()},t.open(e.type,e.url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n=s(e.data);t.send(n)},o=function(e){var t={trigger:!0};i(t,e);var n=document.createElement("script");n.onload=function(){t.trigger&&t.success&&t.success(),t.removeOnLoad&&document.body.removeChild(n)},n.onerror=function(){t.error&&t.error()};var a=t.data?t.url+"?"+s(t.data):t.url;n.src=a,document.body.appendChild(n)},s=function(e){var t="";for(var n in e)t+=n+"="+e[n]+"&";return t.split("&").slice(0,-1).join("&")},c={ajax:a,loadScript:o};e.exports=c}})});