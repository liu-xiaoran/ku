/*! 2017-10-17 15:07:48 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ZYLIB=n():e.ZYLIB=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=12)}([function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(){o(this,e)}return i(e,null,[{key:"getCookie",value:function(e){var n=new RegExp("(^|;)[ ]*"+e+"=([^;]*)"),t=n.exec(document.cookie);return t?decodeURIComponent(t[2]):null}},{key:"setCookie",value:function(e,n,t,o,i,r){var a=void 0;t&&(a=new Date,a.setTime(a.getTime()+t)),document.cookie=e+"="+encodeURIComponent(n)+(t?";expires="+a.toGMTString():"")+";path="+(o||"/")+(i?";domain="+i:"")+(r?";secure":"")}}]),e}();n.default=r},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(n){o(this,e);var t=n.match(/(\w+):\/\/([^:\/\?]*):?(\d*)([^\?]*)\??([^#$]*)#?([^#]*)/)||[];this.scheme=t[1]||"",this.protocol=t[1]||"",this.domain=t[2]||"",this.host=t[2]||"",this.port=t[3]||"",this.path=t[4]||"",this.queryString=t[5]||"",this.search=t[5]||"",this.hash=t[6]||""}return i(e,[{key:"getParams",value:function(){var e=this.queryString.split("&"),n={};return e.forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}},{key:"getParam",value:function(e){return this.getParams()[e]}}]),e}();n.default=r},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data&&e.data.contractId&&(e.contractId=e.data.contractId),i({reqTime:(new Date).getTime(),contractId:e.data&&e.data.contractId||d.getParam("contractId")||a.default.getCookie("contractId")||"",version:"1.0.0",platform:s.platform,reqCount:0,data:{},deviceInfo:i({browser:s.browser},{userAgent:navigator.userAgent})},e)};var r=t(0),a=o(r),s=t(4),u=t(1),c=o(u),d=new c.default(document.location.href)},function(e,n,t){"use strict";var o=t(6),i=function(e,n){for(var t in n)e[t]=n[t];return e},r=function(e){this.config={apiURL:"https://www.zhangyuelicai.com/actives1/public/jsapiTicket",wxURL:"https://res.wx.qq.com/open/js/jweixin-1.2.0.js",url:encodeURIComponent(location.href.split("#")[0]),debug:!1,type:"post",jsonp:!1,data:{link:location.href,title:"",desc:"",imgUrl:"https://www.zhangyuelicai.com/share/invite/images/shareicon.png",success:null,cancel:null},timelineData:{link:location.href,title:"",imgUrl:"https://www.zhangyuelicai.com/share/invite/images/shareicon.png",success:null,cancel:null}},i(this.config,e),this.init()},a=r.prototype;a.init=function(){var e=this.config;this.timelineData=i({},e.data),this.appMessageData=i({},e.data),e.timelineData?i(this.timelineData,e.timelineData):this.timelineData.title=e.data.desc;var n=this;o.loadScript({url:e.wxURL,success:function(){n.initShare()}})},a.initShare=function(){var e=this.config,n=this;o.ajax({url:e.apiURL,type:e.type,data:{url:e.url},jsonp:e.jsonp,success:function(e){n.initData(e)}})},a.initData=function(e){var n=this.config,t=this;wx&&(wx.config({debug:n.debug,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.ready(function(){wx.onMenuShareTimeline(t.timelineData),wx.onMenuShareAppMessage(t.appMessageData)}))},a.shareToTimeline=function(e){var n=i(this.timelineData,e);wx.onMenuShareTimeline(n)},a.shareToFriend=function(e){var n=i(this.appMessageData,e);wx.onMenuShareAppMessage(n)},e.exports=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(5),i=new o,r=i.device;"Mobile"==i.device&&(n.platform=r="H5"),n.platform=r,n.browser=i},function(e,n,t){"use strict";var o,i;"function"==typeof Symbol&&Symbol.iterator,function(r,a){o=a,void 0!==(i="function"==typeof o?o.call(n,t,n,e):o)&&(e.exports=i)}(0,function(){var e=window||{},n=navigator||{};return function(t){var o=t||n.userAgent,i=this,r={Trident:o.indexOf("Trident")>-1||o.indexOf("NET CLR")>-1,Presto:o.indexOf("Presto")>-1,WebKit:o.indexOf("AppleWebKit")>-1,Gecko:o.indexOf("Gecko/")>-1,Safari:o.indexOf("Safari")>-1,Chrome:o.indexOf("Chrome")>-1||o.indexOf("CriOS")>-1,IE:o.indexOf("MSIE")>-1||o.indexOf("Trident")>-1,Edge:o.indexOf("Edge")>-1,Firefox:o.indexOf("Firefox")>-1||o.indexOf("FxiOS")>-1,"Firefox Focus":o.indexOf("Focus")>-1,Chromium:o.indexOf("Chromium")>-1,Opera:o.indexOf("Opera")>-1||o.indexOf("OPR")>-1,Vivaldi:o.indexOf("Vivaldi")>-1,Yandex:o.indexOf("YaBrowser")>-1,Kindle:o.indexOf("Kindle")>-1||o.indexOf("Silk/")>-1,360:o.indexOf("360EE")>-1||o.indexOf("360SE")>-1,UC:o.indexOf("UC")>-1||o.indexOf(" UBrowser")>-1,QQBrowser:o.indexOf("QQBrowser")>-1,QQ:o.indexOf("QQ/")>-1,Baidu:o.indexOf("Baidu")>-1||o.indexOf("BIDUBrowser")>-1,Maxthon:o.indexOf("Maxthon")>-1,Sogou:o.indexOf("MetaSr")>-1||o.indexOf("Sogou")>-1,LBBROWSER:o.indexOf("LBBROWSER")>-1,"2345Explorer":o.indexOf("2345Explorer")>-1,TheWorld:o.indexOf("TheWorld")>-1,XiaoMi:o.indexOf("MiuiBrowser")>-1,Quark:o.indexOf("Quark")>-1,Qiyu:o.indexOf("Qiyu")>-1,Wechat:o.indexOf("MicroMessenger")>-1,Taobao:o.indexOf("AliApp(TB")>-1,Alipay:o.indexOf("AliApp(AP")>-1,Weibo:o.indexOf("Weibo")>-1,Douban:o.indexOf("com.douban.frodo")>-1,Suning:o.indexOf("SNEBUY-APP")>-1,iQiYi:o.indexOf("IqiyiApp")>-1,Windows:o.indexOf("Windows")>-1,Linux:o.indexOf("Linux")>-1||o.indexOf("X11")>-1,"Mac OS":o.indexOf("Macintosh")>-1,Android:o.indexOf("Android")>-1||o.indexOf("Adr")>-1,Ubuntu:o.indexOf("Ubuntu")>-1,FreeBSD:o.indexOf("FreeBSD")>-1,Debian:o.indexOf("Debian")>-1,"Windows Phone":o.indexOf("IEMobile")>-1,BlackBerry:o.indexOf("BlackBerry")>-1||o.indexOf("RIM")>-1,MeeGo:o.indexOf("MeeGo")>-1,Symbian:o.indexOf("Symbian")>-1,iOS:o.indexOf("like Mac OS X")>-1,"Chrome OS":o.indexOf("CrOS")>-1,WebOS:o.indexOf("hpwOS")>-1,Mobile:o.indexOf("Mobi")>-1||o.indexOf("iPh")>-1||o.indexOf("480")>-1,Tablet:o.indexOf("Tablet")>-1||o.indexOf("Pad")>-1||o.indexOf("Nexus 7")>-1};r.Mobile?r.Mobile=!(o.indexOf("iPad")>-1):e.showModalDialog&&e.chrome&&(r[360]=!0);var a={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};i.device="PC",i.language=function(){var e=n.browserLanguage||n.language,t=e.split("-");return t[1]&&(t[1]=t[1].toUpperCase()),t.join("_")}();for(var s in a)for(var u=0;u<a[s].length;u++){var c=a[s][u];r[c]&&(i[s]=c)}var d={Windows:function(){var e=o.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[e]||e},Android:function(){return o.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return o.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return o.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return o.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return o.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return o.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};i.osVersion="",d[i.os]&&(i.osVersion=d[i.os](),i.osVersion==o&&(i.osVersion=""));var l={Safari:function(){return o.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return o.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return o.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return o.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return o.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return o.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return o.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return o.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return o.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return o.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Kindle:function(){return o.replace(/^.*Version\/([\d.]+).*$/,"$1")},Maxthon:function(){return o.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return o.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return o.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return o.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return o.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return o.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},"2345Explorer":function(){return o.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function(){return o.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return o.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return o.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return o.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return o.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return o.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return o.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return o.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return o.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return o.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return o.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};i.version="",l[i.browser]&&(i.version=l[i.browser](),i.version==o&&(i.version="")),"Edge"==i.browser?i.engine="EdgeHTML":"Chrome"==i.browser&&parseInt(i.version)>27?i.engine="Blink":"Opera"==i.browser&&parseInt(i.version)>12?i.engine="Blink":"Yandex"==i.browser&&(i.engine="Blink")}})},function(e,n,t){"use strict";var o=function(e,n){for(var t in n)e[t]=n[t];return e},i=function(e){if(e.jsonp){var n=+new Date,t="Xing"+n;e.data.callback=t,e.removeOnLoad=!0,e.trigger=!1,window[t]=function(n){e.success&&e.success(n),window[t]=null},a(e)}else r(e)},r=function(e){var n=new XMLHttpRequest;n.onload=function(){if(200===this.status){var n=JSON.parse(this.response);e.success&&e.success(n)}},n.onerror=function(){e.error&&e.error()},n.open(e.type,e.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var t=s(e.data);n.send(t)},a=function(e){var n={trigger:!0};o(n,e);var t=document.createElement("script");t.onload=function(){n.trigger&&n.success&&n.success(),n.removeOnLoad&&document.body.removeChild(t)},t.onerror=function(){n.error&&n.error()};var i=n.data?n.url+"?"+s(n.data):n.url;t.src=i,document.body.appendChild(t)},s=function(e){var n="";for(var t in e)n+=t+"="+e[t]+"&";return n.split("&").slice(0,-1).join("&")},u={ajax:i,loadScript:a};e.exports=u},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ZYModal=n.ZYDownload=void 0;var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=t(9),u=o(s),c=t(8),d=o(c),l=t(0),f=o(l),p=t(1),h=o(p),v=new h.default(document.location.href),m=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=r({downloadBtn:document.getElementById("ZYDownload"),tips:"http://106.14.236.8/h5/libs/imgs/download.png",wake:-1},n),this.bindEvent(),this.modal=new u.default({tips:this.options.tips}),this.iosLink=this.options.iosLink||v.getParam("iosLink")||f.default.getCookie("iosLink")||"https://itunes.apple.com/app/id1203692435",this.apkLink=this.options.apkLink||v.getParam("apkLink")||f.default.getCookie("apkLink")||"/app/"+this.toApkLink()+".apk",this.init()}return a(e,[{key:"init",value:function(){var e=this;this.options.wake<0&&this.options.auto&&(d.default.isIos()?setTimeout(function(){e.onDownload()},1e3):this.onDownload())}},{key:"bindEvent",value:function(){var e=this;this.addEvent(this.options.downloadBtn,d.default.isIos()||d.default.isAndroid()?"touchend":"click",function(){return e.options.wake>=0?e.onWake():e.onDownload()})}},{key:"onDownload",value:function(){d.default.isWeixin()?this.modal.show():d.default.isIos()?location.href=this.iosLink:location.href=this.apkLink}},{key:"onWake",value:function(){try{d.default.isIos9()?window.location.href="/h5/dl/?iosLink="+this.iosLink+"&apkLink="+this.apkLink:d.default.isWeixin()?window.location.href=this.options.wake>0?"http://a.app.qq.com/o/simple.jsp?pkgname=com.wanse.zhangyueapp":"/h5/dl/?iosLink="+this.iosLink+"&apkLink="+this.apkLink:d.default.isIos()||d.default.isAndroid()?window.location.href="zylcapp://com.wanse.zhangyueapp":window.location.href="/"}catch(e){this.onDownload()}}},{key:"toApkLink",value:function(){var e=this.options.contractId||v.getParam("contractId")||f.default.getCookie("contractId")||"999920171021200000";return e.substr(0,12)+"4"+e.substring(13)}},{key:"addEvent",value:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}]),e}();n.ZYDownload=m,n.ZYModal=u.default},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=window.navigator.userAgent,a=function(){function e(){o(this,e)}return i(e,[{key:"isIos",value:function(){return!!r.match(/iPhone|iPad|iPod/)}},{key:"isIos9",value:function(){var e=/iPhone\s?OS\s?(\d+)_(\d*)/,n=r.match(e);return(n?new Number(n[1]+"."+n[2]):0)>=9}},{key:"isAndroid",value:function(){return!!r.match(/Android/)}},{key:"isWeixin",value:function(){return r.match(/[Mm]icro[Mm]essenger/)}}]),e}();n.default=new a},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.options=i({},t);var r="\n      box-sizing: border-box;\n      text-align: center;\n      z-index: 99999;\n      word-break: break-word;\n      position: fixed;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height:100%;\n      opacity: 0;\n      transition: all .5s;\n      display: none;\n      background-image:url("+this.options.tips+");\n      background-color: rgba(0, 0, 0, 0.7);\n      background-size:100%;\n      background-repeat:no-repeat;\n    ";this.show=function(){n.holder=document.createElement("div"),n.holder.style.cssText=r,document.body.appendChild(n.holder),n.holder.style.display="block",setTimeout(function(){n.holder.style.opacity="1",n.init()},10)},this.hide=function(){n.holder.style.opacity=0,setTimeout(function(){n.holder.remove()},400)}}return r(e,[{key:"ua",value:function(){var e=navigator.userAgent.toLowerCase();return{ios:/iphone/.test(e)||/ipad/.test(e),android:/android/.test(e),winphone:/windows phone/.test(e),weixin:/micromessenger/.test(e),qqnews:/qqnews/.test(e),mqqbrowser:/mqqbrowser/.test(e),qq:/\sqq/.test(e),mobile:/iphone/.test(e)||/ipad/.test(e)||/android/.test(e)}}},{key:"init",value:function(){var e=this;this.addEvent(this.holder,this.ua().mobile?"touchend":"click",function(){return e.hide()})}},{key:"addEvent",value:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}]),e}();n.default=a},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=t(13),a=function(e){return e&&e.__esModule?e:{default:e}}(r),s=function(){function e(){o(this,e)}return i(e,[{key:"request",value:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.filter,i=t.beforeSend,r=t.success||t.callback,a=t.error,s=t.complete,u=t.timeout||1e4,c=t.dataType||"text",d=t.params||t.data,l=void 0,f=t.url,p=t.method||t.type||"GET",h={},v=void 0,m={ContentType:t.ContentType||"application/x-www-form-urlencoded"};for(v in m)h[v]=m[v];if(t.headers)for(v in t.headers)h[v]=t.headers[v]||m[v];return p=p.toUpperCase(),new Promise(function(t,v){var m=function(e){"function"==typeof r&&r(e),t(e)},g=function(e){"function"==typeof a&&a(e),v(e)};c&&"jsonp"===c.toLowerCase()?(f+=(-1===f.indexOf("?")?"?":"&")+n.seriesParams(d,o),n.loadJsonp(f,m,g,u)):(l=e.create(),"POST"===p?d="application/json"===h.ContentType?JSON.stringify(d):n.seriesParams(d,o):(f+=(-1===f.indexOf("?")?"?":"&")+n.seriesParams(d,o),d=null),l.open(p,f,!0),l.setRequestHeader("Method",p.toUpperCase()+" "+f+" HTTP/1.1"),l.setRequestHeader("Content-type",h.ContentType),l.onreadystatechange=function(){n.onReadyStatusChange(l,c,m,s,g)},"function"==typeof i&&!1===i.call(l)||l.send(d))})}},{key:"onReadyStatusChange",value:function(e,n,t,o,i){if(4===e.readyState)if("function"==typeof o&&o.call(null),200===e.status){var r=e.responseText;if("JSON"===n.toUpperCase())try{var a=new Function("return "+r)();a&&"function"==typeof t&&t(a)}catch(e){}else"function"==typeof t&&t(r)}else i("Error code:"+e.status,e)}},{key:"seriesParams",value:function(e,n){var t=[],o=void 0;if(e)for(var i in e)o=e[i],t.push(i+"="+("function"==typeof n?n.call(null,o):escape(o)));return t.join("&")}},{key:"loadJsonp",value:function(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=[(new Date).getTime(),Math.floor(500*Math.random())].join("_"),r="ajax_cb_"+i,a=document.createElement("script"),s=void 0;e+=(-1===e.indexOf("?")?"?":"&")+"callback="+r,window[r]=function(e){"function"==typeof n&&n(e),delete window[r],clearTimeout(s),document.head.removeChild(a)},o>0&&(s=setTimeout(function(){window[r]&&"function"==typeof t&&t()},o)),document.head.appendChild(a),a.src=e}},{key:"fetch",value:function(e,n,t,o){return a.default.isFunc(n)&&(o=o||t,t=n,n=void 0),this.request({url:e,method:"GET",dataType:o,data:n,success:t})}},{key:"post",value:function(e,n,t,o){return a.default.isFunction(n)&&(o=o||t,t=n,n=void 0),this.request({url:e,method:"POST",dataType:o,data:n,success:t})}}],[{key:"create",value:function(){var e;try{e=new XMLHttpRequest}catch(n){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){console.log(e)}}}return e}}]),e}();n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i={width:160,text:"No Message!",time:1200};n.default=function(e){var n=document.createElement("div"),t=document.createElement("span");return n.appendChild(t),n.style.cssText="\n  box-sizing: border-box;\n  text-align: center;\n  z-index: 99999;\n  word-break: break-word;\n  position: fixed;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  opacity: 0;\n  transition: all 1s;\n  display: none;\n",t.style.cssText="\n  color: rgb(255, 255, 255);\n  font-size: 16px;\n  border-radius: 8px;\n  box-sizing: border-box;\n  text-align: center;\n  word-break: break-word;\n  padding:6px 12px;\n  text-shadow: none;\n  background-color: rgba(0, 0, 0, 0.8);\n  line-height: 1.3em;\n",document.body.appendChild(n),e="string"==typeof e?o({},i,{text:e}):o({},i,e),t.innerHTML=e.text,n.style.display="block",setTimeout(function(){n.style.bottom="200px",n.style.opacity="1"},10),new Promise(function(t){setTimeout(function(){n.style.opacity=0,setTimeout(function(){n.remove(),t()},1e3)},e.time)})}},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ZYDownload=n.ZYWechat=n.req=n.toast=n.ZYReg=void 0;var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=t(11),u=o(s),c=t(2),d=o(c),l=t(4),f=t(0),p=o(f),h=t(10),v=o(h),m=t(1),g=o(m),y=t(7),w=new g.default(document.location.href),b=t(3),x=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.options=r({sendsmsApi:"/platform1/Userpub/sendsms",regApi:"/platform1/Userpub/login",fakeloginApi:"/platform1/Userpub/fakelogin",mobile:document.getElementById("ZYReg-mobile"),regBtn:document.getElementById("ZYReg-regbtn"),second:120,success:function(e){},error:function(e){},toast:function(e){(0,u.default)(e)}},n),this.init(),this.bindEvent(),this.contractId=this.options.contractId||w.getParam("contractId")||p.default.getCookie("contractId")||"999920170426200013"}return a(e,[{key:"init",value:function(){}},{key:"bindEvent",value:function(){var e=this;this.options.getVCodeBtn&&this.addEvent(this.options.getVCodeBtn,"H5"==l.platform?"touchend":"click",function(){return e.onGetVCode()}),this.addEvent(this.options.regBtn,"H5"==l.platform?"touchend":"click",function(){return e.onRegBtn()})}},{key:"onToast",value:function(e){this.options.toast&&this.options.toast(e)}},{key:"onReg",value:function(){var e=this;try{if(!this.options.mobile.value)return void this.onToast("手机号不能为空!");if(11!=this.options.mobile.value.length)return void this.onToast("手机号只能11位!");if(!this.options.vcode||!this.options.vcode.value)return void this.onToast("验证码不能为空!");if(this.options.pwd&&!this.options.pwd.value)return void this.onToast("密码不能为空!");if(this.options.check&&!this.options.check.checked)return void this.onToast("请勾选协议!")}catch(e){this.onToast("缺少必要配置")}this.stop();var n=(0,d.default)({data:{phone:this.options.mobile.value,veriCode:this.options.vcode.value,platform:this.options.platform||l.platform,inviteCode:this.options.inviteCode?this.options.inviteCode.value:"",contractId:this.contractId,otherArgs:encodeURIComponent(location.search.substring(1))}});this.options.pwd&&this.options.pwd.value&&(n.data.userPwd=this.options.pwd.value),this.options.wechatOpenid&&this.options.wechatOpenid.value&&(n.data.wechatOpenid=this.options.wechatOpenid.value),this.ajax({url:this.options.regApi,data:n,success:function(n){"10000"==n.code?e.options.success&&e.options.success(n):(e.onToast(n.message||"注册失败!"),e.options.error&&e.options.error())}})}},{key:"onFake",value:function(){var e=this;try{if(!this.options.mobile.value)return void this.onToast("手机号不能为空!");if(11!=this.options.mobile.value.length)return void this.onToast("手机号只能11位!");if(this.options.pwd&&!this.options.pwd.value)return void this.onToast("密码不能为空!")}catch(e){this.onToast("缺少必要配置")}var n=(0,d.default)({data:{phone:this.options.mobile.value,platform:this.options.platform||l.platform,contractId:this.contractId,otherArgs:encodeURIComponent(location.search.substring(1))}});this.options.wechatOpenid&&this.options.wechatOpenid.value&&(n.data.wechatOpenid=this.options.wechatOpenid.value),this.ajax({url:this.options.fakeloginApi,data:n,success:function(n){"10000"==n.code?e.options.success&&e.options.success(n):(e.onToast(n.message||"注册失败!"),e.options.error&&e.options.error())}})}},{key:"onLogin",value:function(){var e=this;try{if(!this.options.mobile.value)return void this.onToast("手机号不能为空!");if(11!=this.options.mobile.value.length)return void this.onToast("手机号只能11位!");if(this.options.check&&!this.options.check.checked)return void this.onToast("请勾选协议!")}catch(e){this.onToast("缺少必要配置")}var n=(0,d.default)({data:{phone:this.options.mobile.value,userPwd:this.options.pwd?this.options.pwd.value:"",platform:this.options.platform||l.platform,contractId:this.contractId,otherArgs:encodeURIComponent(location.search.substring(1))}});this.options.wechatOpenid&&this.options.wechatOpenid.value&&(n.data.wechatOpenid=this.options.wechatOpenid.value),this.ajax({url:this.options.regApi,data:n,success:function(n){"10000"==n.code?e.options.success&&e.options.success(n):(e.onToast(n.message||"登录失败!"),e.options.error&&e.options.error())}})}},{key:"onRegBtn",value:function(){this.options.vcode||this.options.pwd?!this.options.vcode&&this.options.pwd?this.onLogin():this.onReg():this.onFake()}},{key:"onGetVCode",value:function(){var e=this;if(!(this.time>0)){if(!this.options.mobile.value)return void this.onToast("手机号不能为空!");if(11!=this.options.mobile.value.length)return void this.onToast("手机号只能11位!");var n=(0,d.default)({data:{phone:this.options.mobile.value,smsType:this.options.smsType||(this.options.pwd?"regist":"appLogin")}});this.ajax({url:this.options.sendsmsApi,data:n,success:function(n){"10000"==n.code?e.run():"99995"==n.code?(e.onToast(n.message),e.run(n.data.ttl)):e.onToast(n.message||"发送失败!")}})}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.time=e||this.options.second,this.timer()}},{key:"timer",value:function(){var e=this,n=this.time>0?this.time+"s后重发":"获取验证码";this.options.getVCodeBtn.value=n,this.options.getVCodeBtn.innerHTML=n,this.time>0?(this.options.getVCodeBtn.setAttribute("disabled","disabled"),this.time--,setTimeout(function(){return e.timer()},1e3)):this.options.getVCodeBtn.removeAttribute("disabled")}},{key:"stop",value:function(){this.time=0}},{key:"addEvent",value:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}},{key:"ajax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(new v.default).request({url:e.url,type:"post",dataType:"json",ContentType:"application/json",params:e.data,success:function(n){"function"==typeof e.success&&e.success(n)},error:function(e){console.log(e)}})}},{key:"param",value:function(e,n){var t=[];return t.add=function(e,n){this.push(escape(e)+"="+escape(n))},serialize(t,e,n),t.join("&").replace("%20","+")}}]),e}();n.ZYReg=x,n.toast=u.default,n.req=d.default,n.ZYWechat=b,n.ZYDownload=y.ZYDownload},function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=function(){function e(){o(this,e)}return i(e,null,[{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isFunc",value:function(e){return this.isFunction(e)}},{key:"isObject",value:function(e){return!(!e||e.constructor!==Object)}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isArray",value:function(e){return!(!e||e.constructor!==Array)}},{key:"isNumeric",value:function(e){return(e||0===e)&&e.constructor===Number}},{key:"isElement",value:function(e){return!(!e||!this.isNumeric(e.nodeType))}},{key:"parseJson",value:function(e,n){return n?JSON.parse(e):new Function("return "+e)()}},{key:"mix",value:function(e,n){if(e){if(!n&&e)return e;for(var t in n)e[t]=n[t];return e}}}]),e}();n.default=r}])});